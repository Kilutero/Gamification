!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.ui"],t):t(jQuery)}(function(t){if(t.support.mspointer=window.navigator.msPointerEnabled,t.support.touch="ontouchstart"in document||"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,(t.support.touch||t.support.mspointer)&&t.ui.mouse){var o,e=t.ui.mouse.prototype,n=e._mouseInit,i=e._mouseDestroy;e._touchStart=function(t){this._startedMove=t.timeStamp,this._startPos=u(t),!o&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(o=!0,this._touchMoved=!1,s(t,"mouseover"),s(t,"mousemove"),s(t,"mousedown"))},e._touchMove=function(t){o&&(this._touchMoved=!0,s(t,"mousemove"))},e._touchEnd=function(t){if(o){s(t,"mouseup"),s(t,"mouseout");var e=t.timeStamp-this._startedMove;if(!this._touchMoved||e<500)s(t,"click");else{var n=u(t);Math.abs(n.x-this._startPos.x)<10&&Math.abs(n.y-this._startPos.y)<10&&(this._touchMoved&&"stylus"!==t.originalEvent.changedTouches[0].touchType||s(t,"click"))}this._touchMoved=!1,o=!1}},e._mouseInit=function(){t.support.mspointer&&(this.element[0].style.msTouchAction="none"),this.element.on({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),n.call(this)},e._mouseDestroy=function(){this.element.off({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),i.call(this)}}function u(t){return{x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}}function s(o,e){if(!(o.originalEvent.touches.length>1)){o.cancelable&&o.preventDefault();var n=o.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");"click"==e&&t("textarea").bind("click",function(){t(this).focus()}),i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(i)}}});