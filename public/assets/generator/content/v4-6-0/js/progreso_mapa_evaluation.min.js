$(window).on("beforeunload ",function(){finUnidad()});var objetivos_grabados,inicioTiempo,numeroObjetivos=0,porcentajeunidad=0,nota=-1;function iniciarEvaluacion(){$.ajax({async:!1,type:"POST",url:"../../evaluationunit/php/funcioneslalti.php",data:{function:0},error:function(a){bloquearInteraccion("ERROR T3: SESIÓN CADUCADA. DEBES ENTRAR NUEVAMENTE EN EL AULA VIRTUAL Y LANZAR LA UNIDAD.",2)}})}function finUnidad(){$.ajax({async:!1,type:"POST",url:"../../evaluationunit/php/funcioneslalti.php",data:{function:1}})}function keepAlive(){$.ajax({async:!1,type:"POST",url:"../../evaluationunit/php/funcioneslalti.php",data:{function:5},error:function(a){bloquearInteraccion("ERROR T3: SESIÓN CADUCADA. DEBES ENTRAR NUEVAMENTE EN EL AULA VIRTUAL Y LANZAR LA UNIDAD.",2)}})}function bloquearInteraccion(a,o){switch(o){case 1:$("#sharedModal").append('<div class="cargando" style="height:100%; width:100%; position: absolute; z-index: 10000; background-color: rgba(0, 0, 0, 0.5); top: 0;"><div class="text-center" style="position: absolute; top: 30%; left: 47%;"><i class="fa fa-spinner fa-spin fa-3x" aria-hidden="true"></i><p class="white" style="color:white;"><strong>'+a+"</strong></p></div></div>");break;case 2:$("#sharedModal").append('<div class="cargando" style="height:100%; width:100%; position: absolute; z-index: 10000; background-color: rgba(0, 0, 0, 0.5); top: 0;"><div class="text-center" style="position: absolute; top: 30%; left: 25%;"><i class="fa fa-exclamation-triangle fa-3x" aria-hidden="true"></i><p class="white" style="color:white;"><strong>'+a+"</strong></p></div></div>")}$("#sharedModal").modal("show")}function desBloquearInteraccion(){$("#sharedModal").modal("hide"),$("#sharedModal").empty()}function inicializarEvaluacion(){bloquearInteraccion("Cargando Evaluación",1),nota=objetivos.nota,iniciarEvaluacion(),desBloquearInteraccion()}function getObjetivoEstado(a){for(var o="",i=(new Object,0);i<objetivos.length;i++)for(var n=0;n<objetivos[i].length;n++)objetivos[i][n]._id==a&&(o=objetivos[i][n]._porcentaje);return o}