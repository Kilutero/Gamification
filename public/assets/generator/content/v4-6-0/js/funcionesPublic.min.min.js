var correctas=0,porcentajes=0,numeroPreguntas=0;function inicializar(){inicializarPreguntas(),numeroPreguntas=enunciados.length-1,$("#infoEvaluacion").html("<h4>"+language[3]+"</h4>"),$("body").on("click","a.list-group-item",pulsarRepuesta),$("#buttonSubmit").click(btEnviarClick)}$(document).ready(function(){inicializar()});var pulsarRepuesta=function(e){e.preventDefault();var t=$(this).parent(),s=$(this).attr("data-value");numPregunta=t.attr("data-value");e=tipoPreguntas[numPregunta];0==e||2==e?($(".respuesta",t).each(function(e){$(this).removeClass("respuestaColorSelected")}),$(this).addClass("respuestaColorSelected"),respuestasEstudiante[numPregunta].pop(),respuestasEstudiante[numPregunta].push(s)):($(this).toggleClass("respuestaColorSelected"),respuestasEstudiante[numPregunta].includes(s)?respuestasEstudiante[numPregunta].splice(respuestasEstudiante[numPregunta].indexOf(s),1):respuestasEstudiante[numPregunta].push(s));var a=!0;for(i=1;i<=numeroPreguntas;i++)0==respuestasEstudiante[i].length&&(a=!1);a&&$("#buttonSubmit").attr("disabled",!1)},desactivado=function(e){e.preventDefault()};function mostrarFeedback(){for(i=1;i<=numeroPreguntas;i++){if(respuestasEstudiante[i].length==respuestascorrectas[i].length){for(acierta=1,j=0;j<respuestasEstudiante[i].length;j++)if(!respuestascorrectas[i].includes(parseInt(respuestasEstudiante[i][j]))){acierta=0;break}}else acierta=0;if(1==acierta){for(j=0;j<respuestasEstudiante[i].length;j++)$("#respuesta"+i+respuestasEstudiante[i][j]).css("border","solid 3px #4bbb8b");$("#feedbackCorrecto"+i).show()}else $("#feedbackIncorrecto"+i).show()}}function btEnviarClick(e){e.preventDefault(),$("body").off("click","a.list-group-item").on("click","a.list-group-item",desactivado),$("a.list-group-item").addClass("disabled"),$(".respuesta").css("cursor","default"),$("#buttonSubmit").hide();var t=0,s=0;for(i=1;i<=numeroPreguntas;i++){if(respuestasEstudiante[i].length==respuestascorrectas[i].length){for(t=1,j=0;j<respuestasEstudiante[i].length;j++)if(!respuestascorrectas[i].includes(parseInt(respuestasEstudiante[i][j]))){t=0;break}}else t=0;1==t&&s++}porcentajes=(100*s/numeroPreguntas).toFixed(2),porcentajes1=(10*s/numeroPreguntas).toFixed(2),HTMLcontent="",HTMLcontent+="<div class='col-md-8'><p>"+language[4]+"</p>",$("#resultados").html(HTMLcontent),$("#resultados").show(),HTMLcontent="",HTMLcontent+="<div class='col-md-12'><p><strong>"+language[0].replace("P1",s).replace("P2",numeroPreguntas)+"</strong></p><p>"+language[2]+"<strong> "+porcentajes+"</strong> / "+language[1]+"<strong> "+porcentajes1+"</strong></p>",$("#resultados").html(HTMLcontent),$("#resultados").show(),mostrarFeedback()}