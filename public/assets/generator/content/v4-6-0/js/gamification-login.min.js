!function(){const e=window.location.pathname.split("/")[1]+"-username";let n=JSON.parse(sessionStorage.getItem(e))||null;n&&window.location.replace("game.html"),$("#select-username-form").on("submit",function(t){n=$("#input-username").val()||"Unknown",sessionStorage.setItem(e,JSON.stringify(n))});function a(t,s){function a(t,e){let n=$("<button />").data("dismiss","alert").attr("type","button").attr("aria-hidden","false").attr("aria-label",s("Close")).addClass("close").html(' <span aria-hidden="true">&times;</span>'),a=$("<div />").addClass("alert alert-dismissible fade show "+t).html(e).append(n);return n.on("click",function(){a.alert("close")}),e=Math.max(6e3,60*e.length),setTimeout(function(){a.alert("close")},e),a.alert(),a}$("#speech-to-action-login").on("speech-to-action",function(t,e,n){if("FINISH"!==e&&"START"!==e){let t=$(this).closest(".container");"WRITE"===e?t.find("#input-username").val(n.text):"DELETE"===e?t.find("#input-username").val(""):"REPEAT"===e?t.find(".tta-message").append(a("alert-info",s("tta-info-login"))):"CLOSE"===e&&$(".alert").length?$(".alert").alert("close"):"SELECT"===e?$("#btn-username").trigger("click"):t.find(".tta-message").append(a("alert-danger",s("tta-error-message")))}})}$("#input-username").focus();let s=$("html").attr("lang"),t=document.currentScript.src;t=t.substr(0,t.lastIndexOf("/")),fetch(`${t}/../languages/${s}.json`).then(t=>t.json()).then(t=>i18next.createInstance({lng:s,resources:{[s]:{translation:t}}},a))}();